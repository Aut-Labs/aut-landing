import Dots from "./Dots";
import map from "common/assets/image/map.png";
import { memo } from "react";
import GridLines from "./GridLines";
import WhiteBG from "./WhiteBG";
import Faces from "./Faces";
import { NewNetBG } from "./NewNet";
import { useScroll, motion, useTransform } from "framer-motion";

export const editBottomVariant = {
  initial: {
    marginRight: 0,
    marginLeft: 0,
    borderBottomRightRadius: 0,
    borderBottomLeftRadius: 0,
  },
  after: {
    marginRight: "40px",
    marginLeft: "40px",
    borderBottomRightRadius: "40px",
    borderBottomLeftRadius: "40px",
  },
};

const MainBackground = ({
  parentRef,
  bottomRef,
  width,
  height,
  isSloganVisible,
}) => {
  const { scrollYProgress } = useScroll({
    target: bottomRef,
    offset: ["start end", "end end"],
  });

  const editBottom = useTransform(scrollYProgress, [0, 0.3], ["0px", "40px"]);
  const translateY = useTransform(scrollYProgress, [0, 1], ["0px", "-100vh"]);

  return (
    <motion.svg
      style={{
        position: "fixed",
        marginRight: editBottom,
        marginLeft: editBottom,
        borderBottomRightRadius: editBottom,
        borderBottomLeftRadius: editBottom,
        y: translateY
      }}
      viewBox={`0 0 ${width} ${height}`}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
    >
      <rect width={width} height={width} fill="black" />
      {isSloganVisible && <WhiteBG parentRef={parentRef} />}
      <rect
        width={width}
        height={width}
        fill="url(#pattern0)"
        fillOpacity={0.12}
        style={{ mixBlendMode: "hard-light" }}
      />
      <g
        style={{ mixBlendMode: "hard-light" }}
        opacity={0.88}
        filter="url(#filter0_f_529_70621)"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M-202.114 270.977C-157.69 281.426 -116.939 303.475 -73.4758 318.644C-26.8901 334.903 22.9442 336.976 65.6978 364.444C112.064 394.233 150.876 437.584 185.487 485.02C224.678 538.731 293.37 591.973 282.934 662.171C270.881 743.252 172.406 761.969 134.139 830.422C108.553 876.192 111.967 935.862 100.179 989.089C84.0544 1061.9 105.595 1167.56 51.1168 1205.3C-4.34015 1243.72 -70.1181 1155.93 -134.087 1151.38C-182.137 1147.96 -227.295 1190.29 -274.942 1182.1C-322.782 1173.88 -361.535 1133.8 -403.485 1105.08C-446.413 1075.7 -489.844 1048.55 -527.026 1009.53C-568.146 966.377 -607.733 920.332 -634.147 863.029C-662.729 801.023 -693.572 732.565 -687.14 662.173C-680.699 591.679 -644.298 525.296 -599.095 479.432C-554.733 434.421 -482.884 450.358 -436.692 408.064C-395.38 370.236 -398.704 280.463 -351.959 253.146C-306.469 226.562 -251.789 259.294 -202.114 270.977Z"
          fill="url(#paint0_linear_529_70621)"
        />
      </g>
      <g
        style={{ mixBlendMode: "hard-light" }}
        opacity={0.88}
        filter="url(#filter1_f_529_70621)"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M1578.09 -719.155C1683.84 -740.269 1710.55 -918.785 1817.41 -933.213C1897.18 -943.982 1951.78 -841.797 1998.18 -775.874C2042.08 -713.514 2038.47 -628.708 2077.77 -563.338C2120.69 -491.943 2240.33 -458.653 2238.99 -375.306C2237.56 -286.972 2092.36 -259.014 2071.47 -173.186C2049.44 -82.6595 2146.31 8.67413 2123.55 99.0189C2102.28 183.452 2026.03 245.995 1953.7 294.223C1880.86 342.788 1787.51 410.853 1706.89 376.826C1600.76 332.033 1612.68 128.37 1500.36 102.895C1393.93 78.756 1309.14 328.994 1219.7 266.328C1126.97 201.359 1321.49 22.4296 1254.79 -69.1664C1189.59 -158.691 995.497 -39.1232 931.441 -129.473C880.806 -200.895 997.951 -290.282 1046.24 -363.317C1083.63 -419.864 1137.45 -461.208 1183.59 -510.832C1220.21 -550.21 1265.85 -581.264 1292.41 -628.051C1330.74 -695.557 1299.2 -820.947 1373.04 -844.495C1449.98 -869.032 1498.9 -703.346 1578.09 -719.155Z"
          fill="url(#paint1_linear_529_70621)"
        />
      </g>
      <image
        x="0"
        y="0"
        width="100%"
        height="100%"
        preserveAspectRatio="none"
        xlinkHref={map.src}
      />

      {isSloganVisible && (
        <>
          <WhiteBG parentRef={parentRef} />
          <GridLines width={width} height={height} parentRef={parentRef} />
          <Dots width={width} height={height} />
          <NewNetBG parentRef={parentRef} />
          <Faces width={width} height={height} parentRef={parentRef} />
        </>
      )}

      {/* <mask
        id="mask0_1_10093"
        style={{ maskType: "alpha" }}
        width="1756"
        height="1756"
        x="-149"
        y="-425"
        maskUnits="userSpaceOnUse"
      >
        <circle cx="729" cy="453" r="878" fill="#D9D9D9"></circle>
      </mask>
      <g mask="url(#mask0_1_10093)">
        <circle cx="729" cy="453" r="878" fill="#F0F5FF"></circle>
        <circle
          cx="729"
          cy="453"
          r="878"
          fill="url(#pattern0)"
          fillOpacity="0.5"
          style={{ mixBlendMode: "overlay" }}
        ></circle>
        <path
          stroke="#E0F2FE"
          strokeWidth="4"
          d="M35.5 39l207 92m-207-92l130 164M35.5 39l577-4m-577 4L340-95M35.5 39L3.5-75l-110 170.5M35.5 39l-142 56.5m349 35.5l-77 72m77-72l370-96m-370 96l274 54m-351 18l-272-107.5m272 107.5l-75 251m75-251l351-18m-351 18l168 158m279-326l-96 150m96-150L645-30.5M612.5 35L340-95M612.5 35l261 58m-261-58l14 280m-14-280l199 245m-199-245L831-75M516.5 185l110 130m-110-130l-183 176M645-30.5L340-95m305 64.5L831-75M-106.5 95.5L90.5 454m-197-358.5v382m197-23.5l243-93m-243 93l211 146m-211-146l-197 23.5m197-23.5l-14 262m550-401l-293 46m293-46l-196 181m196-181l95 213m-95-213l215 167m-215-167l185-35m-478 81l97 135m-97-135l-32 239m129-104l-129 104m129-104l88 168m-88-168l291 32m-420 72l-122 218m122-218l-225 116m225-116l217 64m-217-64l-59 237m-349-359.5L76.5 716m-183-238.5L35.5 745m-142-267.5l2 420M76.5 716l-41 29m41-29l103 102m-144-73l-140 152.5M35.5 745l144 73m-144-73l130 164m-270-11.5l270 11.5m-270-11.5l195 262.5m-195-262.5C-96 991.333-80 1188-80 1188m259.5-370l63 19m-63-19l-14 91m77-72l276-173m-276 173l91 230m-91-230l274 54m-274-54l-77 72m353-245l203-136m-203 136l-2 227m2-227l94 77m109-213l120-46m-120 46l-109 213m109-213l-35 206m155-252l177-89m-177 89l113 148m-113-148l-155 252m155-252l-30-202m207 113l183-194m-183 194l-207-113m207 113l134 205m-134-205l-96-172m96 172l215 63m-215-63l-64 237m247-431l158-104m-158 104l-279 22m279-22l-121-160m121 160l58-249.5m-58 249.5l190 130m-190-130l32 257m126-361L1446-45m-86.5 140l175-23m-175 23l-100-145.5m100 145.5l32 234M1446-45l88.5 117M1446-45l-186.5-5.5m275 122.5l-143 257m143-257l16 402m-291-524.5l-179 89.5m179-89.5L831-75m249.5 114l-207 54m207-54L831-75m249.5 114l-158 182m-49-128l49 128m-49-128l-62 187m62-187L831-75m91.5 296l-111 59m341 318l175 236m-175-236l81-142m-81 142l207 203m-207-203l-198 32m198-32l-72 147m247 89l64 201m-64-201l32-33m-32 33l-126 71m126-71l-247-89m247 89l177 71m-113 130l-158 127m158-127l113-130m-113 130l-190-130m190 130l100 106m-258 21l-81 142m81-142l-215-63m215 63l-32-257m32 257l258-21m-258 21l192 176m-273-34l-72 143m72-143l-198 32m198-32l-134-205m134 205l207 199m-207-199l273 34m-273-34l175 236m-247-93l121 160m-121-160l-126-111m126 111l-207 59m207-59l-158 182m158-182l247 93m-126 67l-183 194m183-194l-279 22m279-22l126-67m-126 67l190 130m-190-130l32 257m-215-63l-96-172m96 172l215 63m-215-63l-64 237m64-237l134 205m-134-205l-177 89m81-261l-111 59m111-59l-49-123m49 123l-81 261m-30-202l62-182m-62 182l-125-248m125 248l-185 35m185-35l30 202m32-384l-187-66m187 66l81-170m-268 104l-74 3m74-3l268-104m-268 104l35-206m-35 206l-60 283m-14-280l-94-73m94 73l109-209m-109 209l-96 150m96-150l14 280m-108-353l-88-168m88 168l203-136m-203 136l-217-64m217 64L409 1449.5m109.5-79.5l-2 223m-86-391l-97-135m97 135l291 32m-291-32l196-181m-196 181l-129 104m32-239l293-46m-293 46l183-176m-183 176l-168-158m168 158l-243 93m243-93l-32 239m215-415l96-150m-96 150l110 130m-14-280l74-7m-74 7l14 280m60-287l187 66m-187-66l268-104m-268 104l-60 287m60-287l125 252m62-186l49 127m-49-127l207-55m-207 55l81-170m-81 170l-62 186m111-59l-111 59m111-59l279-22m-279 22l158-182m-158 182l96 172m-207-113l207 113m-207-113l-185 35m185-35l30 202m177-89l183-194m-183 194l-177 89m177-89l-64 237m247-431l-121-160m0 0l-126-115m437-301l-158 127m158-127l159 145m-159-145l34 303m-192-176l192 176m-192-176l126 345m191-327l-125 158m125-158l18 254m-143-96l-66 169m66-169l143 96m-209 73l209-73m-209 73l145 104m64-177l-64 177m0 0l-13 236m-865-120l215 167m-215-167l95 213m770-93l-66 197m66-197l-6 335m-60-138l-66 165m66-165l60 138m-531-140l-113-148m113 148l-233-102m120-46l-120 46m-95 489l-110-130m110 130l95 213m-95-213l215 167m-215-167l-293 46m293-46l-196 181m86-311l-274-54m274 54L409 1449.5M516.5 1593c-61.436 57.56-184.047 173.35-183 176m1026-266l-32 37m32-37l126-27m-126 27l112.5 147m-144.5-110l144.5 110m-144.5-110l64 197m94-261l-13.5 174m0 0l-80.5 87m80.5-87v179m-80.5-92l-158 127m158-127l80.5 92m-238.5 35l238.5-35m-238.5 35l192 176m-192-176l250 85.5m-250-85.5l-81 142m319.5-177l11.5 120.5m-58 90.5l58-90.5m-58 90.5l-273-34m273 34l-66 169m66-169l58 66.5m0-157v157m-331-100.5l-198 32m198-32l-72 147m72-147l207 203m-405-171l-113-148m113 148l-268 104m268-104l-233-102m233 102c-27 51.83-81 158.4-81 170m81-170l126 115m-239-263l-120 46m0 0l-35 206m35-206l-291-32m291 32l-203 136m203-136l-109 213m74-7l-74 7m74-7l-60 287m60-287l125 252m-125-252l187 66m-261-59l-94-77m94 77l-96 150m96-150l14 280m-108-357l-88-168m88 168l-217-64m217 64l-276 173m276-173l-2 227m-86-395l-97-135m97 135l-129 104m32-239l-168-158m168 158l-91-230m91 230l-243 93m243-93l-32 239m-136-397l77-72m-77 72l14-87m-14 87l-130-164m130 164l-75 251m152-323l-63-15m63 15l59-233m-59 233l166.5-89.5M179.5 1524l122-218m-122 218l-103-102m103 102l-144-77m266-141l-211-146m211 146l-225 116m225-116L409 1449.5M90.5 1160l75-251m-75 251l-14 262m14-262C33.333 1172.33-80 1188-80 1188m156.5 234l-41 25m41-25L-80 1188m115.5 259l55 415m-55-415L-80 1188m115.5 259l-140 267m140-267s-102.697-4.27-168.5-7m223.5 422l211 146m-211-146l-195-148m195 148L-80 1915.5M90.5 1862l-14 262m225-116l-225 116m225-116l-122 218m122-218l-59 237m-166-121l-41 29m41-29L-80 1915.5M76.5 2124l103 102m-144-73l144 73m-144-73L-80 1915.5M35.5 2153l130 164m-130-164l-140 125m284-52l63 19m-63-19l-14 91m77-72l-77 72m77-72l274 54m-351 18l351-18m-351 18l-270-39m270 39l-75 251m75-251l168 158m183-176l110 130m-110-130l-86 311m86-311l-183 176m293-46l185-35m-185 35l215 167m-215-167l95 213m-95-213l-196 181m381-216l111-59m-111 59l62-186m-62 186c12.167 66.24 35.2 199.39 30 202m-30-202l207 113m-96-172l-49-127m49 127l158-182m-158 182l279-22m-279 22l96 172m-145-299l207-55m0 0l279 56m-279-56l121 160m-121-160l247 89m32-33l-32 33m32-33l124-102.5m-124 102.5l101.5 58m-133.5-25l-126 71m126-71l133.5 25m-133.5-25l64 201m-190-130l190 130m-190-130l-183 194m183-194l32 257m158-127l-158 127m158-127l80.5-49m-80.5 49l69.5-176m-69.5 176l94 153m-252-26l-215-63m215 63l192 176m-192-176l252 26m-252-26l-81 142m-134-205l-177 89m177-89l134 205m-134-205c-21.333 76.5-64 231-64 237m-113-148l-120 46m120-46l113 148m-233-102l-291-32m291 32l-35 206m35-206l233 102m-233-102l-203 136m-88-168l-97-135m97 135l-129 104m129-104l88 168m-185-303l-243 93m243-93l-32 239m-211-146l211 146m-211-146l-195-290m195 290l-14 262m14-262l-207 116m418 30l-225 116m225-116l47.5 141m-47.5-141l217 64m-442 52l103 102m-103-102l-193-146m193 146l272.5 25m-272.5-25L-80 2914m259.5 18l169.5-77m-169.5 77L-80 2914m598.5-136l168 70m-168-70L349 2855m337.5-7l187 66m-187-66l268-104m-81 170l81-170m-81 170l454 34m-454-34l279-202m-198 32l198-32m0 0l273 34m-273-34l175 236m98-202l-98 202m98-202l60-150m-60 150l84.5 32m-182.5 170l182.5-170m-182.5 170l133.5 121 49-291M-80 1188l-53 252m28.5 274l-28.5-274m28.5 274l24.5 201.5m0 0l-24.5 362.5m0 0l-12 406m1600-577.5L1461 2267m0 0l11 127m0 0l13.5 202m0 0l24.5 182m-1626.5-94l36.5 230"
        ></path>
        <path
          fill="#36BFFA"
          d="M163.5 201H167.5V205H163.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M240.5 129H244.5V133H240.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M624.5 313H628.5V317H624.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M514.5 183H518.5V187H514.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M920.5 219H924.5V223H920.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1016.5 391H1020.5V395H1016.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1199.5 197H1203.5V201H1199.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M809.5 278H813.5V282H809.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1389.5 327H1393.5V331H1389.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1357.5 93H1361.5V97H1357.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1357.5 799H1361.5V803H1357.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1078.5 37H1082.5V41H1078.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1078.5 743H1082.5V747H1078.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1150.5 596H1154.5V600H1150.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M299.5 598H303.5V602H299.5z"
          opacity="0.5"
        ></path>
        <path fill="#36BFFA" d="M74.5 714H78.5V718H74.5z" opacity="0.5"></path>
        <path fill="#36BFFA" d="M88.5 452H92.5V456H88.5z" opacity="0.5"></path>
        <path
          fill="#36BFFA"
          d="M952.5 628H956.5V632H952.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M839.5 480H843.5V484H839.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1231.5 454H1235.5V458H1231.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M871.5 798H875.5V802H871.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M428.5 494H432.5V498H428.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M719.5 526H723.5V530H719.5z"
          opacity="0.5"
        ></path>
        <path fill="#36BFFA" d="M871.5 91H875.5V95H871.5z" opacity="0.5"></path>
        <path
          fill="#36BFFA"
          d="M516.5 662H520.5V666H516.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M684.5 732H688.5V736H684.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M1423.5 630H1427.5V634H1423.5z"
          opacity="0.5"
        ></path>
        <path
          fill="#36BFFA"
          d="M331.5 359H335.5V363H331.5z"
          opacity="0.5"
        ></path>
        <path fill="#36BFFA" d="M610.5 33H614.5V37H610.5z" opacity="0.5"></path>
        <path
          fill="#36BFFA"
          d="M610.5 739H614.5V743H610.5z"
          opacity="0.5"
        ></path>
        <path fill="#36BFFA" d="M33.5 37H37.5V41H33.5z" opacity="0.5"></path>
        <path fill="#36BFFA" d="M33.5 743H37.5V747H33.5z" opacity="0.5"></path>
      </g> */}
    </motion.svg>
  );
};
export default memo(MainBackground);
